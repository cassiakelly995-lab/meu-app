<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Admin - Cássia Prompt</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-900 text-white p-8">
    <div class="max-w-md mx-auto bg-slate-800 p-8 rounded-[2rem] shadow-2xl border border-slate-700">
        <h1 class="text-3xl font-black mb-6 text-center text-pink-500 uppercase italic">Central de Comando</h1>
        
        <div class="space-y-4 mb-8">
            <div class="bg-slate-700/50 p-4 rounded-2xl">
                <label class="text-[10px] font-bold text-slate-400 uppercase tracking-widest">Novo Acesso (Ex: nome-do-cliente)</label>
                <input type="text" id="novoCliente" class="w-full bg-slate-800 p-3 rounded-xl mt-2 outline-none border border-slate-600 focus:border-pink-500">
                <button onclick="adicionarCliente()" class="w-full bg-green-600 mt-4 p-4 rounded-xl font-black uppercase text-sm hover:bg-green-500 transition-all">Ativar Novo Cliente ✅</button>
            </div>
        </div>

        <h2 class="text-xs font-black text-slate-500 uppercase tracking-widest mb-4">Clientes Ativos</h2>
        <div id="listaClientes" class="space-y-3">
            </div>
    </div>

    <script>
        function carregarClientes() {
            const lista = JSON.parse(localStorage.getItem('tokensCassia')) || ['access-cassia-2026'];
            const container = document.getElementById('listaClientes');
            container.innerHTML = '';
            
            lista.forEach(token => {
                container.innerHTML += `
                    <div class="flex justify-between items-center bg-slate-700/30 p-4 rounded-2xl border border-slate-600">
                        <span class="font-mono text-sm text-pink-300 italic">${token}</span>
                        <div class="flex gap-2">
                             <button onclick="copyLink('${token}')" class="bg-blue-600 p-2 rounded-lg text-[10px] font-bold">LINK</button>
                             <button onclick="banirCliente('${token}')" class="bg-red-600 p-2 rounded-lg text-[10px] font-bold">BANIR</button>
                        </div>
                    </div>
                `;
            });
        }

        function adicionarCliente() {
            const input = document.getElementById('novoCliente');
            const novo = input.value.trim().toLowerCase().replace(/\s+/g, '-');
            if(!novo) return;

            let lista = JSON.parse(localStorage.getItem('tokensCassia')) || ['access-cassia-2026'];
            if(!lista.includes(novo)) {
                lista.push(novo);
                localStorage.setItem('tokensCassia', JSON.stringify(lista));
                input.value = '';
                carregarClientes();
                alert('Cliente Ativado com Sucesso!');
            }
        }

        function banirCliente(token) {
            if(token === 'access-cassia-2026') return alert('Token mestre não pode ser removido.');
            if(!confirm('Deseja realmente BANIR este acesso?')) return;
            
            let lista = JSON.parse(localStorage.getItem('tokensCassia')) || [];
            lista = lista.filter(t => t !== token);
            localStorage.setItem('tokensCassia', JSON.stringify(lista));
            carregarClientes();
        }

        function copyLink(token) {
            const link = `https://cassiakelly995-lab.github.io/meu-app/cass/cassia-app.html?token=${token}`;
            navigator.clipboard.writeText(link);
            alert('Link do Cliente Copiado!');
        }

        carregarClientes();
    </script>
</body>
</html>
