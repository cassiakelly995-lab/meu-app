<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>C√ÅSSIA PROMPT V8 | ELITE EDITION</title>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
    <style>
        body { background: #000; color: #ff007a; font-family: 'Segoe UI', sans-serif; margin: 0; padding: 20px; text-align: center; }
        #bloqueio { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 9999; justify-content: center; align-items: center; flex-direction: column; }
        .conteudo { border: 2px solid #ff007a; padding: 20px; border-radius: 15px; box-shadow: 0 0 20px #ff007a66; max-width: 600px; margin: auto; }
        h1 { text-transform: uppercase; letter-spacing: 2px; }
        textarea { width: 100%; height: 150px; background: #111; border: 1px solid #333; color: #fff; border-radius: 10px; padding: 10px; box-sizing: border-box; }
        button { background: #ff007a; color: white; border: none; padding: 15px 30px; border-radius: 8px; font-weight: bold; cursor: pointer; margin-top: 20px; width: 100%; }
    </style>
</head>
<body>

<div id="bloqueio">
    <h1 style="font-size: 50px;">üö´</h1>
    <h1>ACESSO REVOGADO</h1>
    <p>Sua licen√ßa n√£o est√° mais ativa no sistema.</p>
</div>

<div id="sistema-principal" class="conteudo">
    <h1>C√ÅSSIA PROMPT V8</h1>
    <p>Bem-vinda, Doutora!</p>
    <textarea placeholder="Insira os fatos aqui..."></textarea>
    <button onclick="alert('Processando Intelig√™ncia Artificial...')">GERAR PETI√á√ÉO ELITE</button>
</div>

<script>
    // CONFIGURA√á√ÉO DO SEU FIREBASE
    const firebaseConfig = { databaseURL: "https://cassiapromptv8-default-rtdb.firebaseio.com/" };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // PEGA O ID DO LINK (...?id=Dra_Helen)
    const urlParams = new URLSearchParams(window.location.search);
    const userId = urlParams.get('id');

    if (!userId) {
        document.getElementById('sistema-principal').style.display = 'none';
        document.getElementById('bloqueio').style.display = 'flex';
        document.querySelector('#bloqueio h1').innerText = "LINK INV√ÅLIDO";
    } else {
        // CHECAGEM DE SEGURAN√áA EM TEMPO REAL
        db.ref('clientes/' + userId).on('value', (snapshot) => {
            if (!snapshot.exists()) {
                // SE VOC√ä APAGAR NO ADMIN, ISSO AQUI ATIVA NA HORA
                document.getElementById('sistema-principal').style.display = 'none';
                document.getElementById('bloqueio').style.display = 'flex';
            } else {
                document.getElementById('sistema-principal').style.display = 'block';
                document.getElementById('bloqueio').style.display = 'none';
            }
        });
    }
</script>
</body>
</html>
