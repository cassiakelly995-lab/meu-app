<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CÁSSIA V8 | UNIVERSAL ELITE</title>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
    <style>
        :root { --accent: #0078d4; --bg: #050505; --card: #0d0d0d; --text: #e0e0e0; --gold: #c5a059; }
        body { margin: 0; background: var(--bg); color: var(--text); font-family: 'Inter', sans-serif; }
        #loader { position: fixed; inset: 0; background: #000; display: flex; align-items: center; justify-content: center; z-index: 9999; }
        nav { background: var(--card); padding: 20px; border-bottom: 1px solid #222; text-align: center; font-weight: 900; letter-spacing: 3px; color: var(--gold); }
        main { padding: 40px 20px; display: flex; flex-direction: column; align-items: center; }
        .workspace { background: var(--card); width: 100%; max-width: 850px; border-radius: 15px; border: 1px solid #1a1a1a; padding: 40px; box-shadow: 0 30px 60px rgba(0,0,0,0.5); }
        label { font-size: 11px; font-weight: 700; color: var(--accent); text-transform: uppercase; display: block; margin-bottom: 12px; letter-spacing: 1px; }
        textarea, input { width: 100%; background: #000; border: 1px solid #222; padding: 18px; border-radius: 8px; color: #fff; margin-bottom: 25px; outline: none; transition: 0.3s; }
        textarea:focus { border-color: var(--gold); }
        .btn-exe { width: 100%; background: linear-gradient(45deg, #0078d4, #004a86); color: white; border: none; padding: 20px; border-radius: 8px; font-weight: 900; cursor: pointer; text-transform: uppercase; font-size: 14px; }
        #resultado-area { display: none; margin-top: 35px; width: 100%; max-width: 850px; }
        #prompt-final { width: 100%; height: 350px; background: #000; color: #00ffa3; border: 1px solid #00ffa3; padding: 20px; border-radius: 10px; font-family: 'Courier New', monospace; font-size: 13px; }
        .badge { display: inline-block; padding: 4px 10px; background: #1a1a1a; border-radius: 4px; font-size: 10px; color: var(--gold); margin-bottom: 20px; }
    </style>
</head>
<body>
    <div id="loader"><h2 style="color:var(--accent);">SISTEMA V8 CARREGANDO...</h2></div>
    <nav>CÁSSIA V8 ELITE EDITION</nav>
    <main>
        <div class="workspace">
            <div class="badge">GOD MODE V8 ATIVADO</div>
            <label>1. Contexto ou Dados Brutos (O que você tem?)</label>
            <textarea id="fatos" rows="4" placeholder="Insira aqui os fatos, textos, códigos ou problemas..."></textarea>
            
            <label>2. Parâmetros de Rigor (Regras, Leis ou Critérios)</label>
            <textarea id="base" rows="3" placeholder="Quais critérios o sistema deve obedecer? (Ex: Leis, normas técnicas, tom de voz específico)"></textarea>
            
            <label>3. Objetivo Final (O que você quer entregar?)</label>
            <input type="text" id="destino" placeholder="Ex: Relatório Técnico, Artigo Viral, Análise de Dados...">
            
            <button class="btn-exe" onclick="gerar()">Processar com Rigor Absoluto</button>
        </div>

        <div id="resultado-area">
            <label style="color:#00ffa3;">⚡ COMANDO DE ALTA PERFORMANCE GERADO:</label>
            <textarea id="prompt-final" readonly></textarea>
            <button onclick="copiar()" style="width:100%; padding:15px; background:#00ffa3; border:none; border-radius:8px; margin-top:10px; cursor:pointer; font-weight:bold;">COPIAR PROMPT ELITE</button>
        </div>
    </main>

<script>
    const firebaseConfig = { databaseURL: "https://cassiapromptv8-default-rtdb.firebaseio.com/" };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();
    const urlParams = new URLSearchParams(window.location.search);
    const userId = urlParams.get('id');

    if (userId) {
        db.ref('clientes/' + userId).on('value', (snap) => {
            if (snap.exists()) {
                document.getElementById('loader').style.display = 'none';
            } else {
                document.body.innerHTML = '<h1 style="color:red; text-align:center; margin-top:100px;">ACESSO NEGADO</h1>';
            }
        });
    }

    function gerar() {
        const fatos = document.getElementById('fatos').value;
        const base = document.getElementById('base').value;
        const destino = document.getElementById('destino').value;

        // O PROMPT MESTRE SOFISTICADO
        const promptMestre = `### [ PROTOCOLO CÁSSIA V8 - ELITE UNIVERSAL ] ###
IDENTIDADE: Você é um Consultor de Nível 10, especialista em lógica aplicada e veracidade de dados.
CONDIÇÃO CRÍTICA: Não aceite "baboseira", argumentos dúbios, alucinações ou informações sem embasamento sólido.

CONTEÚDO BRUTO: 
"${fatos}"

PARÂMETROS DE RIGOR E CRITÉRIOS: 
"${base}"

MISSÃO: 
Construir um(a) "${destino}" seguindo estes passos:
1. DESTRUTURAÇÃO: Analise o conteúdo bruto e descarte redundâncias.
2. FILTRAGEM: Verifique se há argumentos falsos ou duvidosos. Se houver, ignore-os e priorize a lógica pura.
3. CONSTRUÇÃO EL
