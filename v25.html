<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>V8 ELITE EDITION | C√ÅSSIA PROMPT</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
    <style>
        :root {
            --bg: #050505; --card: #0a0a0a; --text: #ffffff; --border: #1a1a1a;
            --gold: linear-gradient(135deg, #bf953f 0%, #fcf6ba 45%, #b38728 70%, #fbf5b7 100%);
            --glow: 0 0 30px rgba(191, 149, 63, 0.1);
        }
        body.light-mode {
            --bg: #f9f9f9; --card: #ffffff; --text: #1a1a1a; --border: #e2e2e2;
        }
        body { margin: 0; background: var(--bg); color: var(--text); font-family: 'Segoe UI', system-ui, sans-serif; transition: 0.3s; overflow-x: hidden; }
        nav { padding: 20px 60px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; background: var(--bg); position: sticky; top: 0; z-index: 100; }
        .logo-v8 { font-size: 18px; font-weight: 900; letter-spacing: 6px; background: var(--gold); -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-transform: uppercase; }
        .top-btns { display: flex; gap: 10px; }
        .btn-minimal { background: transparent; border: 1px solid var(--border); color: var(--text); padding: 8px 16px; border-radius: 4px; cursor: pointer; font-size: 10px; text-transform: uppercase; letter-spacing: 1px; transition: 0.2s; }
        .btn-minimal:hover { border-color: #bf953f; color: #bf953f; }
        main { padding: 40px 20px; display: flex; flex-direction: column; align-items: center; }
        .glass-panel { background: var(--card); width: 100%; max-width: 900px; border-radius: 12px; border: 1px solid var(--border); padding: 50px; box-shadow: var(--glow); }
        .integrity-header { display: flex; justify-content: space-between; font-size: 9px; font-weight: 800; color: #bf953f; text-transform: uppercase; margin-bottom: 10px; letter-spacing: 2px; }
        .bar-bg { width: 100%; height: 2px; background: rgba(191,149,63,0.1); border-radius: 4px; overflow: hidden; margin-bottom: 40px; }
        .bar-fill { width: 0%; height: 100%; background: var(--gold); transition: 0.8s; }
        .pdf-action { color: #bf953f; font-size: 11px; font-weight: 700; cursor: pointer; display: inline-flex; align-items: center; gap: 5px; margin-bottom: 25px; text-transform: uppercase; letter-spacing: 1px; }
        .field-group { margin-bottom: 25px; }
        label { font-size: 10px; font-weight: 600; opacity: 0.5; text-transform: uppercase; display: block; margin-bottom: 8px; letter-spacing: 1.5px; }
        input, textarea { width: 100%; background: transparent; border: 1px solid var(--border); padding: 14px; border-radius: 4px; color: var(--text); font-size: 14px; box-sizing: border-box; outline: none; transition: 0.2s; font-weight: 300; }
        input:focus, textarea:focus { border-color: #bf953f; background: rgba(191,149,63,0.01); }
        .btn-supreme { width: 100%; background: var(--gold); color: #000; border: none; padding: 20px; border-radius: 4px; font-weight: 900; cursor: pointer; text-transform: uppercase; letter-spacing: 4px; font-size: 13px; transition: 0.3s; margin-top: 20px; }
        #output-zone { display: none; width: 100%; max-width: 900px; margin-top: 40px; }
        #prompt-result { width: 100%; height: 400px; background: #000; border: 1px solid #bf953f; color: #fcf6ba; padding: 30px; border-radius: 8px; font-family: 'Consolas', monospace; font-size: 14px; line-height: 1.6; }
        footer { margin-top: 80px; padding: 40px; text-align: center; border-top: 1px solid var(--border); font-size: 9px; opacity: 0.5; letter-spacing: 2px; line-height: 2.2; }
    </style>
</head>
<body id="main-body">

<nav>
    <div class="logo-v8">V8 ELITE EDITION</div>
    <div class="top-btns">
        <button class="btn-minimal" onclick="limpar()">Apagar Tudo</button>
        <button class="btn-minimal" onclick="toggleMode()">Modo Claro/Escuro</button>
    </div>
</nav>

<main id="app-content">
    <div class="glass-panel">
        <div class="integrity-header"><span>Sincroniza√ß√£o de Dados V8</span><span id="pct">0%</span></div>
        <div class="bar-bg"><div id="fill" class="bar-fill"></div></div>

        <div class="pdf-action" onclick="document.getElementById('pdf-up').click()">üìé Importar Dados de PDF</div>
        <input type="file" id="pdf-up" accept="application/pdf" style="display:none" onchange="lerPDF(this)">

        <div class="field-group">
            <label>1. O que deve ser gerado?</label>
            <input type="text" id="gerado" oninput="atualizar()" placeholder="Ex: Peti√ß√£o Inicial, Relat√≥rio de Triagem...">
        </div>

        <div class="field-group">
            <label>2. Objetivo (Destino do Comando)</label>
            <input type="text" id="destino" oninput="atualizar()" placeholder="Ex: Demonstrar abusividade contratual...">
        </div>

        <div class="field-group">
            <label>3. Registro dos Fatos (Base de Dados)</label>
            <textarea id="fatos" rows="10" oninput="atualizar()" placeholder="Insira o texto bruto ou use o PDF..."></textarea>
        </div>

        <button class="btn-supreme" onclick="gerar()">Executar Engenharia de Elite</button>
    </div>

    <div id="output-zone">
        <label>Comando Supremo V8 [GOD MODE] Gerado:</label>
        <textarea id="prompt-result" readonly></textarea>
        <button class="btn-supreme" style="margin-top:15px; background:transparent; border:1px solid #bf953f; color:#bf953f;" onclick="copiar()">Copiar Prompt Blindado</button>
    </div>
</main>

<footer>
    C√ÅSSIA PROMPT ¬Æ | TECNOLOGIA V8 ELITE EDITION<br>
    SISTEMA DE ENGENHARIA DE PROMPT DE ALTA PRECIS√ÉO<br>
    LICENCIADO PARA: <span id="user-display" style="color:#bf953f; font-weight:bold;">...</span><br>
    A RESPONSABILIDADE √â DE QUEM EST√Å USANDO. O PROGRAMA APENAS GERA O PROMPT.
</footer>

<script>
    const ACESSOS = {
        "TkFUQUxJ": "NATALIA",
        "Helen_cristina": "HELEN CRISTINA",
        "TkfVQUxK": "NATALIA",
        "cassia": "C√ÅSSIA"
    };

    const id = new URLSearchParams(window.location.search).get('id');
    const user = ACESSOS[id];

    if (!user) {
        document.getElementById('app-content').innerHTML = "<h1 style='color:#bf953f; margin-top:100px; text-align:center; letter-spacing:5px;'>ACESSO REVOGADO</h1>";
    } else {
        document.getElementById('user-display').innerText = user;
    }

    function toggleMode() { document.getElementById('main-body').classList.toggle('light-mode'); }
    function limpar() {
        document.getElementById('gerado').value = "";
        document.getElementById('destino').value = "";
        document.getElementById('fatos').value = "";
        document.getElementById('output-zone').style.display = 'none';
        atualizar();
    }

    async function lerPDF(input) {
        const file = input.files[0];
        if(!file) return;
        const reader = new FileReader();
        reader.onload = async function() {
            const typedarray = new Uint8Array(this.result);
            const pdf = await pdfjsLib.getDocument(typedarray).promise;
            let fullText = "";
            for(let i=1; i<=pdf.numPages; i++) {
                const page = await pdf.getPage(i);
                const content = await page.getTextContent();
                fullText += content.items.map(s => s.str).join(" ") + "\n";
            }
            document.getElementById('fatos').value = fullText;
            atualizar();
        };
        reader.readAsArrayBuffer(file);
    }

    function atualizar() {
        let p = Math.min(100, (document.getElementById('gerado').value.length * 2) + (document.getElementById('destino').value.length * 2) + (document.getElementById('fatos').value.length / 50));
        document.getElementById('fill').style.width = p + "%";
        document.getElementById('pct').innerText = Math.round(p) + "%";
    }

    function gerar() {
        const g = document.getElementById('gerado').value;
        const d = document.getElementById('destino').value;
        const f = document.getElementById('fatos').value;
        
        const promptMaster = `### [ORDEM SUPREMA - SISTEMA V8 ELITE] ###

VOC√ä ATUAR√Å COMO UMA INTELIG√äNCIA DE ELITE EM ENGENHARIA T√âCNICA.
ESTE PROTOCOLO √â DE ERRO ZERO. ALUCINA√á√ïES S√ÉO TERMINANTEMENTE PROIBIDAS.

1. O QUE DEVE SER GERADO: ${g}
2. OBJETIVO DO COMANDO: ${d}

[DIRETRIZES DE RIGOR]:
- FUNDAMENTA√á√ÉO: Sempre que identificar uma irregularidade, cite o artigo da lei correspondente (CDC, C√≥digo Civil, etc.) com CERTEZA ABSOLUTA. Se n√£o houver clareza legal, escreva: "Fundamenta√ß√£o pendente de an√°lise humana".
- N√ÉO INVENTE fatos ou leis. Se n√£o estiver no "REGISTRO DOS FATOS", n√£o existe.
- Se houver lacuna de informa√ß√£o, cite: "Informa√ß√£o ausente na base de dados".
- Proibido erros gramaticais ou introdu√ß√µes amig√°veis. V√° direto ao ponto t√©cnico.

[REGISTRO DOS FATOS (BASE BRUTA)]:
${f}

[EXECU√á√ÉO]:
Processe agora sem pre√¢mbulos.`;

        document.getElementById('prompt-result').value = promptMaster;
        document.getElementById('output-zone').style.display = 'block';
        window.scrollTo({top: document.body.scrollHeight, behavior: 'smooth'});
    }

    function copiar() {
        document.getElementById('prompt-result').select();
        document.execCommand('copy');
        alert("üíé Prompt V8 Copiado!");
    }
</script>
</body>
</html>
